{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thabang\\\\Desktop\\\\myapp\\\\myapp\\\\SIMRA-Web\\\\src\\\\Pages\\\\PathogenFiles\\\\PathogenFiles.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button, Container, Card, Form, Row, Col, Image, Stack, Navbar, Carousel } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { FaQuestionCircle, FaVideo, FaSignOutAlt, FaHome } from 'react-icons/fa';\nimport { IoWaterOutline } from 'react-icons/io5';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport * as XLSX from 'xlsx';\nimport './PathogenFiles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PathogenFile() {\n  _s();\n  const [qmraData, setQmraData] = useState([]);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [userName, setUserName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    const userId = localStorage.getItem('userId');\n    if (userId) {\n      axios.get('http://localhost:3001/api/theuser', {\n        params: {\n          userId: userId\n        }\n      }).then(response => {\n        if (Array.isArray(response.data.results)) {\n          // Check if the response data is an array\n          setQmraData(response.data.results);\n          const user = response.data.results[0]; // Assuming there's only one user\n          const userFirstName = user.firstname;\n          const lastName = user.lastname;\n          setUserName(userFirstName);\n          setLastName(lastName);\n        } else {\n          console.error('User data is not in the expected format:', response.data);\n        }\n      }).catch(error => {\n        console.error('Error while fetching USER data:', error);\n      });\n    }\n  }, []);\n  useEffect(() => {\n    const userId = localStorage.getItem('userId');\n    console.log('ID', userId);\n    if (userId) {\n      axios.get('http://localhost:3001/api/pathodenFile', {\n        params: {\n          userId: userId\n        }\n      }).then(response => {\n        if (Array.isArray(response.data.results)) {\n          // Check if the response data is an array\n          setQmraData(response.data.results);\n        } else {\n          console.error('MST data is not in the expected format:', response.data);\n        }\n      }).catch(error => {\n        console.error('Error while fetching MST data:', error);\n      });\n    }\n  }, []);\n  const formatDate = dateString => {\n    const options = {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n  const handleStartDateChange = e => {\n    setStartDate(e.target.value);\n    // Clear the error message when the user changes the start date\n    setErrorMessage('');\n  };\n  const handleEndDateChange = e => {\n    setEndDate(e.target.value);\n    // Clear the error message when the user changes the end date\n    setErrorMessage('');\n  };\n  const generatePDF = () => {\n    if (!startDate || !endDate) {\n      setErrorMessage('Please provide both start and end dates.');\n      return;\n    }\n    if (qmraData.length === 0) {\n      setErrorMessage('No data to export.');\n      return;\n    }\n    const doc = new jsPDF();\n    const columns = [{\n      title: 'Municipality',\n      dataKey: 'muni_name'\n    }, {\n      title: 'Catchment',\n      dataKey: 'type'\n    }, {\n      title: 'Longitude',\n      dataKey: 'longitude'\n    }, {\n      title: 'Latitude',\n      dataKey: 'latitude'\n    }, {\n      title: 'Sample ID',\n      dataKey: 'samplingId'\n    }, {\n      title: 'Sampling Date',\n      dataKey: 'sampling_date_created'\n    }, {\n      title: 'CFU/100 ml',\n      dataKey: 'cfu'\n    }];\n    const filteredData = qmraData.filter(row => {\n      const rowDate = new Date(row.sampling_date_created);\n      return rowDate >= new Date(startDate) && rowDate <= new Date(endDate);\n    });\n    const data = filteredData.map(row => ({\n      muni_name: row.muni_name,\n      type: row.type,\n      longitude: row.longitude,\n      latitude: row.latitude,\n      samplingId: row.samplingId,\n      sampling_date_created: formatDate(row.sampling_date_created),\n      cfu: row.count_mst\n    }));\n    doc.autoTable({\n      head: [columns.map(col => col.title)],\n      body: data.map(row => columns.map(col => row[col.dataKey]))\n    });\n    doc.save('QMRAReport.pdf');\n  };\n  const exportToExcel = () => {\n    if (!startDate || !endDate) {\n      setErrorMessage('Please provide both start and end dates.');\n      return;\n    }\n    if (qmraData.length === 0) {\n      setErrorMessage('No data to export.');\n      return;\n    }\n\n    // Create a new workbook and worksheet\n    const wb = XLSX.utils.book_new();\n    const ws = XLSX.utils.table_to_sheet(document.querySelector('table'));\n\n    // Add the worksheet to the workbook\n    XLSX.utils.book_append_sheet(wb, ws, 'QMRAData');\n\n    // Generate a unique filename for the Excel file\n    const excelFileName = 'QMRAData.xlsx';\n\n    // Save the workbook as an Excel file\n    XLSX.writeFile(wb, excelFileName);\n  };\n  const handleHomeNavigate = () => {\n    const userId = localStorage.getItem('userId');\n    if (userId) {\n      // Make an HTTP request to fetch data based on the user ID if needed\n      axios.get('http://localhost:3001/api/QMRA', {\n        params: {\n          userId: userId\n        }\n      }).then(response => {\n        // Handle the response if needed\n        console.log(response.data);\n        navigate('/Level3', {\n          state: {\n            userId: userId\n          }\n        });\n      }).catch(error => {\n        // Handle any errors\n        console.error(error);\n      });\n    } else {\n      // Handle the case where the user ID is not found in localStorage\n      console.error('User ID not found in localStorage');\n    }\n  };\n  const renderTable = () => {\n    if (qmraData.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"nodata-text\",\n        children: \"No data for this table.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scroll\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped table-sticky\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              colspan: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              colspan: \"3\",\n              children: \"Cycle 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Municipality\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Catchment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Latitude\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"longitude\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Sample ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Sampling Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"CFU/100 ml\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: qmraData.map((file, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: file.muni_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: file.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: file.latitude\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: file.longitude\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: file.samplingId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: formatDate(file.sampling_date_created)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: file.userCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      className: \"bg-body-tertiary\",\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Toggle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n          className: \"bg-body-tertiary\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n              href: \"#home\",\n              children: [/*#__PURE__*/_jsxDEV(Image, {\n                alt: \"\",\n                src: \"images/SimraLogo.png\",\n                width: \"60\",\n                height: \"40\",\n                className: \"d-inline-block align-left\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), ' ', \"SIMRA\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Toggle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          className: \"justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(Navbar.Text, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: 6,\n        sm: 0,\n        md: 0,\n        lg: 2,\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          fluid: true,\n          className: \"side mt-5\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mt-2\",\n            style: {\n              backgroundColor: 'rgba(108, 117, 125, 0.5)',\n              height: '500px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                size: \"lg\",\n                style: {\n                  width: '100%'\n                },\n                onClick: handleHomeNavigate,\n                children: [/*#__PURE__*/_jsxDEV(FaHome, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 120\n                }, this), \" Home\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n                  style: {\n                    width: '85%',\n                    backgroundColor: 'black'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaSignOutAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 99\n                  }, this), \" Logout\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: 30,\n        sm: 8,\n        md: 6,\n        lg: 10,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            fluid: true,\n            style: {\n              width: '100%',\n              height: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"mt-5\",\n              children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: \"Pathogen Report\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: renderTable()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Start Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"date\",\n                  value: startDate,\n                  onChange: handleStartDateChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"End Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"date\",\n                  value: endDate,\n                  onChange: handleEndDateChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [\" \", errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: errorMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 46\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: generatePDF,\n                  children: \"Download PDF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: exportToExcel,\n                  children: \"Download Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n}\n_s(PathogenFile, \"g5kWc8ufXAz1aHDYffvnum02OgE=\", false, function () {\n  return [useNavigate];\n});\n_c = PathogenFile;\nexport default PathogenFile;\nvar _c;\n$RefreshReg$(_c, \"PathogenFile\");","map":{"version":3,"names":["React","useState","useEffect","axios","Button","Container","Card","Form","Row","Col","Image","Stack","Navbar","Carousel","Link","useNavigate","FaQuestionCircle","FaVideo","FaSignOutAlt","FaHome","IoWaterOutline","jsPDF","XLSX","jsxDEV","_jsxDEV","PathogenFile","_s","qmraData","setQmraData","startDate","setStartDate","endDate","setEndDate","errorMessage","setErrorMessage","userName","setUserName","lastName","setLastName","navigate","userId","localStorage","getItem","get","params","then","response","Array","isArray","data","results","user","userFirstName","firstname","lastname","console","error","catch","log","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","handleStartDateChange","e","target","value","handleEndDateChange","generatePDF","length","doc","columns","title","dataKey","filteredData","filter","row","rowDate","sampling_date_created","map","muni_name","type","longitude","latitude","samplingId","cfu","count_mst","autoTable","head","col","body","save","exportToExcel","wb","utils","book_new","ws","table_to_sheet","document","querySelector","book_append_sheet","excelFileName","writeFile","handleHomeNavigate","state","renderTable","className","children","fileName","_jsxFileName","lineNumber","columnNumber","colspan","file","index","userCount","Toggle","Brand","href","alt","src","width","height","Collapse","Text","xs","sm","md","lg","fluid","style","backgroundColor","Body","variant","size","onClick","to","Group","Label","Control","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Thabang/Desktop/myapp/myapp/SIMRA-Web/src/Pages/PathogenFiles/PathogenFiles.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Container, Card, Form, Row, Col, Image, Stack, Navbar, Carousel } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FaQuestionCircle, FaVideo, FaSignOutAlt, FaHome } from 'react-icons/fa';\r\nimport { IoWaterOutline } from 'react-icons/io5';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport './PathogenFiles.css'\r\n\r\nfunction PathogenFile() {\r\n\r\n  const [qmraData, setQmraData] = useState([]);\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [userName, setUserName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const userId = localStorage.getItem('userId');\r\n\r\n\r\n    if (userId) {\r\n      axios\r\n        .get('http://localhost:3001/api/theuser', {\r\n          params: {\r\n            userId: userId,\r\n          },\r\n        })\r\n        .then(response => {\r\n          if (Array.isArray(response.data.results)) {\r\n            // Check if the response data is an array\r\n            setQmraData(response.data.results);\r\n\r\n            const user = response.data.results[0]; // Assuming there's only one user\r\n            const userFirstName = user.firstname;\r\n            const lastName = user.lastname;\r\n            setUserName(userFirstName);\r\n            setLastName(lastName);\r\n\r\n          } else {\r\n            console.error('User data is not in the expected format:', response.data);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Error while fetching USER data:', error);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    const userId = localStorage.getItem('userId');\r\n    console.log('ID', userId)\r\n\r\n    if (userId) {\r\n      axios\r\n        .get('http://localhost:3001/api/pathodenFile', {\r\n          params: {\r\n            userId: userId,\r\n          },\r\n        })\r\n        .then(response => {\r\n          if (Array.isArray(response.data.results)) {\r\n            // Check if the response data is an array\r\n            setQmraData(response.data.results);\r\n\r\n\r\n\r\n          } else {\r\n            console.error('MST data is not in the expected format:', response.data);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Error while fetching MST data:', error);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const formatDate = (dateString) => {\r\n    const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\r\n    return new Date(dateString).toLocaleDateString(undefined, options);\r\n  };\r\n\r\n  const handleStartDateChange = (e) => {\r\n    setStartDate(e.target.value);\r\n    // Clear the error message when the user changes the start date\r\n    setErrorMessage('');\r\n  };\r\n\r\n  const handleEndDateChange = (e) => {\r\n    setEndDate(e.target.value);\r\n    // Clear the error message when the user changes the end date\r\n    setErrorMessage('');\r\n  };\r\n\r\n\r\n\r\n  const generatePDF = () => {\r\n    if (!startDate || !endDate) {\r\n      setErrorMessage('Please provide both start and end dates.');\r\n      return;\r\n    }\r\n    if (qmraData.length === 0) {\r\n      setErrorMessage('No data to export.');\r\n      return;\r\n    }\r\n\r\n    const doc = new jsPDF();\r\n\r\n    const columns = [\r\n      { title: 'Municipality', dataKey: 'muni_name' },\r\n      { title: 'Catchment', dataKey: 'type' },\r\n      { title: 'Longitude', dataKey: 'longitude' },\r\n      { title: 'Latitude', dataKey: 'latitude' },\r\n      { title: 'Sample ID', dataKey: 'samplingId' },\r\n      { title: 'Sampling Date', dataKey: 'sampling_date_created' },\r\n      { title: 'CFU/100 ml', dataKey: 'cfu' },\r\n    ];\r\n\r\n    const filteredData = qmraData.filter((row) => {\r\n      const rowDate = new Date(row.sampling_date_created);\r\n      return rowDate >= new Date(startDate) && rowDate <= new Date(endDate);\r\n    });\r\n\r\n    const data = filteredData.map((row) => ({\r\n      muni_name: row.muni_name,\r\n      type: row.type,\r\n      longitude: row.longitude,\r\n      latitude: row.latitude,\r\n      samplingId: row.samplingId,\r\n      sampling_date_created: formatDate(row.sampling_date_created),\r\n      cfu: row.count_mst,\r\n    }));\r\n\r\n    doc.autoTable({\r\n      head: [columns.map((col) => col.title)],\r\n      body: data.map((row) => columns.map((col) => row[col.dataKey])),\r\n    });\r\n\r\n    doc.save('QMRAReport.pdf');\r\n  };\r\n\r\n  const exportToExcel = () => {\r\n\r\n    if (!startDate || !endDate) {\r\n      setErrorMessage('Please provide both start and end dates.');\r\n      return;\r\n    }\r\n    if (qmraData.length === 0) {\r\n      setErrorMessage('No data to export.');\r\n      return;\r\n    }\r\n\r\n    // Create a new workbook and worksheet\r\n    const wb = XLSX.utils.book_new();\r\n    const ws = XLSX.utils.table_to_sheet(document.querySelector('table'));\r\n\r\n    // Add the worksheet to the workbook\r\n    XLSX.utils.book_append_sheet(wb, ws, 'QMRAData');\r\n\r\n    // Generate a unique filename for the Excel file\r\n    const excelFileName = 'QMRAData.xlsx';\r\n\r\n    // Save the workbook as an Excel file\r\n    XLSX.writeFile(wb, excelFileName);\r\n  };\r\n\r\n  const handleHomeNavigate = () => {\r\n    const userId = localStorage.getItem('userId');\r\n\r\n    if (userId) {\r\n      // Make an HTTP request to fetch data based on the user ID if needed\r\n      axios.get('http://localhost:3001/api/QMRA', {\r\n        params: {\r\n          userId: userId,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          // Handle the response if needed\r\n          console.log(response.data);\r\n          navigate('/Level3', { state: { userId: userId } });\r\n        })\r\n        .catch((error) => {\r\n          // Handle any errors\r\n          console.error(error);\r\n        });\r\n    } else {\r\n      // Handle the case where the user ID is not found in localStorage\r\n      console.error('User ID not found in localStorage');\r\n    }\r\n  };\r\n\r\n  const renderTable = () => {\r\n    if (qmraData.length === 0) {\r\n      return (\r\n\r\n        <p className=\"nodata-text\">No data for this table.</p>\r\n\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"scroll\">\r\n        <table className=\"table table-striped table-sticky\">\r\n          <thead>\r\n            <tr>\r\n              <th colspan=\"4\"></th>\r\n              <th colspan=\"3\">Cycle 1</th>\r\n            </tr>\r\n            <tr>\r\n\r\n              <th>Municipality</th>\r\n              <th>Catchment</th>\r\n              <th>Latitude</th>\r\n              <th>longitude</th>\r\n              <th>Sample ID</th>\r\n              <th>Sampling Date</th>\r\n              <th>CFU/100 ml</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {qmraData.map((file, index) => (\r\n              <tr key={index}>\r\n                <td>{file.muni_name}</td>\r\n                <td>{file.type}</td>\r\n                <td>{file.latitude}</td>\r\n                <td>{file.longitude}</td>\r\n                <td>{file.samplingId}</td>\r\n                <td>{formatDate(file.sampling_date_created)}</td>\r\n                <td>{file.userCount}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className='App'>\r\n      <Navbar className=\"bg-body-tertiary\">\r\n\r\n        <Container>\r\n\r\n          <Navbar.Toggle />\r\n\r\n          <Navbar className=\"bg-body-tertiary\">\r\n            <Container>\r\n              <Navbar.Brand href=\"#home\" >\r\n                <Image\r\n                  alt=\"\"\r\n                  src=\"images/SimraLogo.png\"\r\n                  width=\"60\"\r\n                  height=\"40\"\r\n                  className=\"d-inline-block align-left\"\r\n                />{' '}\r\n                SIMRA\r\n              </Navbar.Brand>\r\n            </Container>\r\n          </Navbar>\r\n\r\n        </Container>\r\n        <Container>\r\n\r\n          <Navbar.Toggle />\r\n          <Navbar.Collapse className=\"justify-content-end\">\r\n            <Navbar.Text>\r\n\r\n            </Navbar.Text>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n\r\n      <Row>\r\n        <Col xs={6} sm={0} md={0} lg={2}>\r\n          <Container fluid className=\"side mt-5\" >\r\n            <Card className='mt-2' style={{ backgroundColor: 'rgba(108, 117, 125, 0.5)', height: '500px'}}>\r\n\r\n              <Card.Body ><Button variant=\"secondary\" size=\"lg\" style={{ width: '100%' }} onClick={handleHomeNavigate}><FaHome /> Home</Button></Card.Body>\r\n              <Card.Body><Link to=\"/\"> <Button style={{ width: '85%', backgroundColor: 'black' }}><FaSignOutAlt /> Logout</Button></Link></Card.Body>\r\n            </Card>\r\n          </Container>\r\n        </Col>\r\n\r\n        <Col xs={30} sm={8} md={6} lg={10}>\r\n          <Row>\r\n            <Container fluid style={{ width: '100%', height: '100%' }}>\r\n              <Card className='mt-5'>\r\n                <Card.Body ><h1>Pathogen Report</h1></Card.Body>\r\n                <Card.Body>\r\n                  {renderTable()}\r\n                </Card.Body>\r\n\r\n                <Form.Group>\r\n                  <Form.Label>Start Date</Form.Label>\r\n                  <Form.Control\r\n                    type=\"date\"\r\n                    value={startDate}\r\n                    onChange={handleStartDateChange}\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                  <Form.Label>End Date</Form.Label>\r\n                  <Form.Control\r\n                    type=\"date\"\r\n                    value={endDate}\r\n                    onChange={handleEndDateChange}\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Card.Body> {errorMessage && <p className=\"text-danger\">{errorMessage}</p>}</Card.Body>\r\n\r\n                <Card.Body>\r\n                  <Button onClick={generatePDF}>Download PDF</Button>\r\n                </Card.Body>\r\n                <Card.Body>\r\n                  <Button onClick={exportToExcel}>Download Excel</Button>\r\n                </Card.Body>\r\n              </Card>\r\n\r\n\r\n            </Container>\r\n          </Row>\r\n        </Col>\r\n\r\n      </Row>\r\n\r\n\r\n\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default PathogenFile;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,EAAEC,SAAS,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,EAAEC,KAAK,EAAEC,KAAK,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,iBAAiB;AACzG,OAAO,sCAAsC;AAC7C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,gBAAgB,EAAEC,OAAO,EAAEC,YAAY,EAAEC,MAAM,QAAQ,gBAAgB;AAChF,SAASC,cAAc,QAAQ,iBAAiB;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,iBAAiB;AACxB,OAAO,KAAKC,IAAI,MAAM,MAAM;AAE5B,OAAO,qBAAqB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE5B,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EAEtB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC4B,SAAS,EAAEC,YAAY,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC8B,OAAO,EAAEC,UAAU,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACgC,YAAY,EAAEC,eAAe,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACkC,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoC,QAAQ,EAAEC,WAAW,CAAC,GAAGrC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMsC,QAAQ,GAAGxB,WAAW,CAAC,CAAC;EAE9Bb,SAAS,CAAC,MAAM;IACd,MAAMsC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAG7C,IAAIF,MAAM,EAAE;MACVrC,KAAK,CACFwC,GAAG,CAAC,mCAAmC,EAAE;QACxCC,MAAM,EAAE;UACNJ,MAAM,EAAEA;QACV;MACF,CAAC,CAAC,CACDK,IAAI,CAACC,QAAQ,IAAI;QAChB,IAAIC,KAAK,CAACC,OAAO,CAACF,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC,EAAE;UACxC;UACAtB,WAAW,CAACkB,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC;UAElC,MAAMC,IAAI,GAAGL,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;UACvC,MAAME,aAAa,GAAGD,IAAI,CAACE,SAAS;UACpC,MAAMhB,QAAQ,GAAGc,IAAI,CAACG,QAAQ;UAC9BlB,WAAW,CAACgB,aAAa,CAAC;UAC1Bd,WAAW,CAACD,QAAQ,CAAC;QAEvB,CAAC,MAAM;UACLkB,OAAO,CAACC,KAAK,CAAC,0CAA0C,EAAEV,QAAQ,CAACG,IAAI,CAAC;QAC1E;MACF,CAAC,CAAC,CACDQ,KAAK,CAACD,KAAK,IAAI;QACdD,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD,CAAC,CAAC;IACN;EACF,CAAC,EAAE,EAAE,CAAC;EAGNtD,SAAS,CAAC,MAAM;IACd,MAAMsC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC7Ca,OAAO,CAACG,GAAG,CAAC,IAAI,EAAElB,MAAM,CAAC;IAEzB,IAAIA,MAAM,EAAE;MACVrC,KAAK,CACFwC,GAAG,CAAC,wCAAwC,EAAE;QAC7CC,MAAM,EAAE;UACNJ,MAAM,EAAEA;QACV;MACF,CAAC,CAAC,CACDK,IAAI,CAACC,QAAQ,IAAI;QAChB,IAAIC,KAAK,CAACC,OAAO,CAACF,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC,EAAE;UACxC;UACAtB,WAAW,CAACkB,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC;QAIpC,CAAC,MAAM;UACLK,OAAO,CAACC,KAAK,CAAC,yCAAyC,EAAEV,QAAQ,CAACG,IAAI,CAAC;QACzE;MACF,CAAC,CAAC,CACDQ,KAAK,CAACD,KAAK,IAAI;QACdD,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD,CAAC,CAAC;IACN;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,OAAO,GAAG;MAAEC,IAAI,EAAE,SAAS;MAAEC,KAAK,EAAE,SAAS;MAAEC,GAAG,EAAE;IAAU,CAAC;IACrE,OAAO,IAAIC,IAAI,CAACL,UAAU,CAAC,CAACM,kBAAkB,CAACC,SAAS,EAAEN,OAAO,CAAC;EACpE,CAAC;EAED,MAAMO,qBAAqB,GAAIC,CAAC,IAAK;IACnCvC,YAAY,CAACuC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;IAC5B;IACArC,eAAe,CAAC,EAAE,CAAC;EACrB,CAAC;EAED,MAAMsC,mBAAmB,GAAIH,CAAC,IAAK;IACjCrC,UAAU,CAACqC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;IAC1B;IACArC,eAAe,CAAC,EAAE,CAAC;EACrB,CAAC;EAID,MAAMuC,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAI,CAAC5C,SAAS,IAAI,CAACE,OAAO,EAAE;MAC1BG,eAAe,CAAC,0CAA0C,CAAC;MAC3D;IACF;IACA,IAAIP,QAAQ,CAAC+C,MAAM,KAAK,CAAC,EAAE;MACzBxC,eAAe,CAAC,oBAAoB,CAAC;MACrC;IACF;IAEA,MAAMyC,GAAG,GAAG,IAAItD,KAAK,CAAC,CAAC;IAEvB,MAAMuD,OAAO,GAAG,CACd;MAAEC,KAAK,EAAE,cAAc;MAAEC,OAAO,EAAE;IAAY,CAAC,EAC/C;MAAED,KAAK,EAAE,WAAW;MAAEC,OAAO,EAAE;IAAO,CAAC,EACvC;MAAED,KAAK,EAAE,WAAW;MAAEC,OAAO,EAAE;IAAY,CAAC,EAC5C;MAAED,KAAK,EAAE,UAAU;MAAEC,OAAO,EAAE;IAAW,CAAC,EAC1C;MAAED,KAAK,EAAE,WAAW;MAAEC,OAAO,EAAE;IAAa,CAAC,EAC7C;MAAED,KAAK,EAAE,eAAe;MAAEC,OAAO,EAAE;IAAwB,CAAC,EAC5D;MAAED,KAAK,EAAE,YAAY;MAAEC,OAAO,EAAE;IAAM,CAAC,CACxC;IAED,MAAMC,YAAY,GAAGpD,QAAQ,CAACqD,MAAM,CAAEC,GAAG,IAAK;MAC5C,MAAMC,OAAO,GAAG,IAAIjB,IAAI,CAACgB,GAAG,CAACE,qBAAqB,CAAC;MACnD,OAAOD,OAAO,IAAI,IAAIjB,IAAI,CAACpC,SAAS,CAAC,IAAIqD,OAAO,IAAI,IAAIjB,IAAI,CAAClC,OAAO,CAAC;IACvE,CAAC,CAAC;IAEF,MAAMkB,IAAI,GAAG8B,YAAY,CAACK,GAAG,CAAEH,GAAG,KAAM;MACtCI,SAAS,EAAEJ,GAAG,CAACI,SAAS;MACxBC,IAAI,EAAEL,GAAG,CAACK,IAAI;MACdC,SAAS,EAAEN,GAAG,CAACM,SAAS;MACxBC,QAAQ,EAAEP,GAAG,CAACO,QAAQ;MACtBC,UAAU,EAAER,GAAG,CAACQ,UAAU;MAC1BN,qBAAqB,EAAExB,UAAU,CAACsB,GAAG,CAACE,qBAAqB,CAAC;MAC5DO,GAAG,EAAET,GAAG,CAACU;IACX,CAAC,CAAC,CAAC;IAEHhB,GAAG,CAACiB,SAAS,CAAC;MACZC,IAAI,EAAE,CAACjB,OAAO,CAACQ,GAAG,CAAEU,GAAG,IAAKA,GAAG,CAACjB,KAAK,CAAC,CAAC;MACvCkB,IAAI,EAAE9C,IAAI,CAACmC,GAAG,CAAEH,GAAG,IAAKL,OAAO,CAACQ,GAAG,CAAEU,GAAG,IAAKb,GAAG,CAACa,GAAG,CAAChB,OAAO,CAAC,CAAC;IAChE,CAAC,CAAC;IAEFH,GAAG,CAACqB,IAAI,CAAC,gBAAgB,CAAC;EAC5B,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAE1B,IAAI,CAACpE,SAAS,IAAI,CAACE,OAAO,EAAE;MAC1BG,eAAe,CAAC,0CAA0C,CAAC;MAC3D;IACF;IACA,IAAIP,QAAQ,CAAC+C,MAAM,KAAK,CAAC,EAAE;MACzBxC,eAAe,CAAC,oBAAoB,CAAC;MACrC;IACF;;IAEA;IACA,MAAMgE,EAAE,GAAG5E,IAAI,CAAC6E,KAAK,CAACC,QAAQ,CAAC,CAAC;IAChC,MAAMC,EAAE,GAAG/E,IAAI,CAAC6E,KAAK,CAACG,cAAc,CAACC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CAAC;;IAErE;IACAlF,IAAI,CAAC6E,KAAK,CAACM,iBAAiB,CAACP,EAAE,EAAEG,EAAE,EAAE,UAAU,CAAC;;IAEhD;IACA,MAAMK,aAAa,GAAG,eAAe;;IAErC;IACApF,IAAI,CAACqF,SAAS,CAACT,EAAE,EAAEQ,aAAa,CAAC;EACnC,CAAC;EAED,MAAME,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,MAAMpE,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAE7C,IAAIF,MAAM,EAAE;MACV;MACArC,KAAK,CAACwC,GAAG,CAAC,gCAAgC,EAAE;QAC1CC,MAAM,EAAE;UACNJ,MAAM,EAAEA;QACV;MACF,CAAC,CAAC,CACCK,IAAI,CAAEC,QAAQ,IAAK;QAClB;QACAS,OAAO,CAACG,GAAG,CAACZ,QAAQ,CAACG,IAAI,CAAC;QAC1BV,QAAQ,CAAC,SAAS,EAAE;UAAEsE,KAAK,EAAE;YAAErE,MAAM,EAAEA;UAAO;QAAE,CAAC,CAAC;MACpD,CAAC,CAAC,CACDiB,KAAK,CAAED,KAAK,IAAK;QAChB;QACAD,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN,CAAC,MAAM;MACL;MACAD,OAAO,CAACC,KAAK,CAAC,mCAAmC,CAAC;IACpD;EACF,CAAC;EAED,MAAMsD,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAInF,QAAQ,CAAC+C,MAAM,KAAK,CAAC,EAAE;MACzB,oBAEElD,OAAA;QAAGuF,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAAuB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAG1D;IACA,oBACE5F,OAAA;MAAKuF,SAAS,EAAC,QAAQ;MAAAC,QAAA,eACrBxF,OAAA;QAAOuF,SAAS,EAAC,kCAAkC;QAAAC,QAAA,gBACjDxF,OAAA;UAAAwF,QAAA,gBACExF,OAAA;YAAAwF,QAAA,gBACExF,OAAA;cAAI6F,OAAO,EAAC;YAAG;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACrB5F,OAAA;cAAI6F,OAAO,EAAC,GAAG;cAAAL,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC,eACL5F,OAAA;YAAAwF,QAAA,gBAEExF,OAAA;cAAAwF,QAAA,EAAI;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrB5F,OAAA;cAAAwF,QAAA,EAAI;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClB5F,OAAA;cAAAwF,QAAA,EAAI;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjB5F,OAAA;cAAAwF,QAAA,EAAI;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClB5F,OAAA;cAAAwF,QAAA,EAAI;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClB5F,OAAA;cAAAwF,QAAA,EAAI;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtB5F,OAAA;cAAAwF,QAAA,EAAI;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR5F,OAAA;UAAAwF,QAAA,EACGrF,QAAQ,CAACyD,GAAG,CAAC,CAACkC,IAAI,EAAEC,KAAK,kBACxB/F,OAAA;YAAAwF,QAAA,gBACExF,OAAA;cAAAwF,QAAA,EAAKM,IAAI,CAACjC;YAAS;cAAA4B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzB5F,OAAA;cAAAwF,QAAA,EAAKM,IAAI,CAAChC;YAAI;cAAA2B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACpB5F,OAAA;cAAAwF,QAAA,EAAKM,IAAI,CAAC9B;YAAQ;cAAAyB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACxB5F,OAAA;cAAAwF,QAAA,EAAKM,IAAI,CAAC/B;YAAS;cAAA0B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzB5F,OAAA;cAAAwF,QAAA,EAAKM,IAAI,CAAC7B;YAAU;cAAAwB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC1B5F,OAAA;cAAAwF,QAAA,EAAKrD,UAAU,CAAC2D,IAAI,CAACnC,qBAAqB;YAAC;cAAA8B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACjD5F,OAAA;cAAAwF,QAAA,EAAKM,IAAI,CAACE;YAAS;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA,GAPlBG,KAAK;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAQV,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEV,CAAC;EAED,oBACE5F,OAAA;IAAKuF,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBxF,OAAA,CAACZ,MAAM;MAACmG,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAElCxF,OAAA,CAACnB,SAAS;QAAA2G,QAAA,gBAERxF,OAAA,CAACZ,MAAM,CAAC6G,MAAM;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAEjB5F,OAAA,CAACZ,MAAM;UAACmG,SAAS,EAAC,kBAAkB;UAAAC,QAAA,eAClCxF,OAAA,CAACnB,SAAS;YAAA2G,QAAA,eACRxF,OAAA,CAACZ,MAAM,CAAC8G,KAAK;cAACC,IAAI,EAAC,OAAO;cAAAX,QAAA,gBACxBxF,OAAA,CAACd,KAAK;gBACJkH,GAAG,EAAC,EAAE;gBACNC,GAAG,EAAC,sBAAsB;gBAC1BC,KAAK,EAAC,IAAI;gBACVC,MAAM,EAAC,IAAI;gBACXhB,SAAS,EAAC;cAA2B;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC,EAAC,GAAG,EAAC,OAET;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAc;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEA,CAAC,eACZ5F,OAAA,CAACnB,SAAS;QAAA2G,QAAA,gBAERxF,OAAA,CAACZ,MAAM,CAAC6G,MAAM;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjB5F,OAAA,CAACZ,MAAM,CAACoH,QAAQ;UAACjB,SAAS,EAAC,qBAAqB;UAAAC,QAAA,eAC9CxF,OAAA,CAACZ,MAAM,CAACqH,IAAI;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAET5F,OAAA,CAAChB,GAAG;MAAAwG,QAAA,gBACFxF,OAAA,CAACf,GAAG;QAACyH,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAAArB,QAAA,eAC9BxF,OAAA,CAACnB,SAAS;UAACiI,KAAK;UAACvB,SAAS,EAAC,WAAW;UAAAC,QAAA,eACpCxF,OAAA,CAAClB,IAAI;YAACyG,SAAS,EAAC,MAAM;YAACwB,KAAK,EAAE;cAAEC,eAAe,EAAE,0BAA0B;cAAET,MAAM,EAAE;YAAO,CAAE;YAAAf,QAAA,gBAE5FxF,OAAA,CAAClB,IAAI,CAACmI,IAAI;cAAAzB,QAAA,eAAExF,OAAA,CAACpB,MAAM;gBAACsI,OAAO,EAAC,WAAW;gBAACC,IAAI,EAAC,IAAI;gBAACJ,KAAK,EAAE;kBAAET,KAAK,EAAE;gBAAO,CAAE;gBAACc,OAAO,EAAEhC,kBAAmB;gBAAAI,QAAA,gBAACxF,OAAA,CAACL,MAAM;kBAAA8F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,SAAK;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAW,CAAC,eAC7I5F,OAAA,CAAClB,IAAI,CAACmI,IAAI;cAAAzB,QAAA,eAACxF,OAAA,CAACV,IAAI;gBAAC+H,EAAE,EAAC,GAAG;gBAAA7B,QAAA,GAAC,GAAC,eAAAxF,OAAA,CAACpB,MAAM;kBAACmI,KAAK,EAAE;oBAAET,KAAK,EAAE,KAAK;oBAAEU,eAAe,EAAE;kBAAQ,CAAE;kBAAAxB,QAAA,gBAACxF,OAAA,CAACN,YAAY;oBAAA+F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,WAAO;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAW,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eAEN5F,OAAA,CAACf,GAAG;QAACyH,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,EAAG;QAAArB,QAAA,eAChCxF,OAAA,CAAChB,GAAG;UAAAwG,QAAA,eACFxF,OAAA,CAACnB,SAAS;YAACiI,KAAK;YAACC,KAAK,EAAE;cAAET,KAAK,EAAE,MAAM;cAAEC,MAAM,EAAE;YAAO,CAAE;YAAAf,QAAA,eACxDxF,OAAA,CAAClB,IAAI;cAACyG,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACpBxF,OAAA,CAAClB,IAAI,CAACmI,IAAI;gBAAAzB,QAAA,eAAExF,OAAA;kBAAAwF,QAAA,EAAI;gBAAe;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAW,CAAC,eAChD5F,OAAA,CAAClB,IAAI,CAACmI,IAAI;gBAAAzB,QAAA,EACPF,WAAW,CAAC;cAAC;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eAEZ5F,OAAA,CAACjB,IAAI,CAACuI,KAAK;gBAAA9B,QAAA,gBACTxF,OAAA,CAACjB,IAAI,CAACwI,KAAK;kBAAA/B,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACnC5F,OAAA,CAACjB,IAAI,CAACyI,OAAO;kBACX1D,IAAI,EAAC,MAAM;kBACXf,KAAK,EAAE1C,SAAU;kBACjBoH,QAAQ,EAAE7E;gBAAsB;kBAAA6C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ,CAAC,eAEb5F,OAAA,CAACjB,IAAI,CAACuI,KAAK;gBAAA9B,QAAA,gBACTxF,OAAA,CAACjB,IAAI,CAACwI,KAAK;kBAAA/B,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACjC5F,OAAA,CAACjB,IAAI,CAACyI,OAAO;kBACX1D,IAAI,EAAC,MAAM;kBACXf,KAAK,EAAExC,OAAQ;kBACfkH,QAAQ,EAAEzE;gBAAoB;kBAAAyC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ,CAAC,eAEb5F,OAAA,CAAClB,IAAI,CAACmI,IAAI;gBAAAzB,QAAA,GAAC,GAAC,EAAC/E,YAAY,iBAAIT,OAAA;kBAAGuF,SAAS,EAAC,aAAa;kBAAAC,QAAA,EAAE/E;gBAAY;kBAAAgF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eAEvF5F,OAAA,CAAClB,IAAI,CAACmI,IAAI;gBAAAzB,QAAA,eACRxF,OAAA,CAACpB,MAAM;kBAACwI,OAAO,EAAEnE,WAAY;kBAAAuC,QAAA,EAAC;gBAAY;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1C,CAAC,eACZ5F,OAAA,CAAClB,IAAI,CAACmI,IAAI;gBAAAzB,QAAA,eACRxF,OAAA,CAACpB,MAAM;kBAACwI,OAAO,EAAE3C,aAAc;kBAAAe,QAAA,EAAC;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAGE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAIH,CAAC;AAGV;AAAC1F,EAAA,CArUQD,YAAY;EAAA,QAQFV,WAAW;AAAA;AAAAmI,EAAA,GARrBzH,YAAY;AAuUrB,eAAeA,YAAY;AAAC,IAAAyH,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}